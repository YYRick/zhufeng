<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Day08 | 复习验证码</title>
    <style>
        #getCode,
        .code {
            width: 200px;
            height: 50px;
            line-height: 50px;
        }

        .code {
            border: 1px solid red;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <button id="getCode">获取验证码</button>
    <div class="code" id="code"></div>
    <script>
       var btn = document.getElementById("getCode");
       var code = document.getElementById("code");
       var len = 4;
       // 验证码的内容
       var str = "1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM";//0-61(对应的索引)
       function getCode(str,len){
           var res = '',
               index = 0,
               item = 0;
           for(var i = 0; i < len; i++){
                  index  = Math.round(Math.random()*(str.length - 1));
                  item  = str[index];
                  if(res.indexOf(item) == -1){
                     res += item;
                  }else{
                      len++;
                  }
           }
           return res;
       }
       code.innerText = getCode(str, len);
       btn.onclick = function(){
           code.innerText = getCode(str, len);
       }
    </script>
</body>
</html>